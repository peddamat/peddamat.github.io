<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="I recently switched my pkm system from a Joplin / OneNote hybrid to one centered around Obsidian. My initial foray into the world of roam-like pkm tools started with logseq, however, what ultimately led me to Obsidian was the maturity of its vim binding implementation. No amount of configuration made logseq's vim bindings comfortable enough for the tool to feel non-intrusive and effortless."><meta name=author content="Sumanth " sam&quot; peddamatham&quot;><link rel=canonical href=https://samrambles.com/dotfiles/how-i-setup-this-blog/index.html><link rel=prev href=../../coding/creating-windows-with-rust/index.html><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.4.2, mkdocs-material-9.0.15"><title>How I Setup This Blog - Sam Rambles</title><link rel=stylesheet href=../../assets/stylesheets/main.113286f1.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.a0c5b2b5.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Noto+Sans:300,300i,400,400i,700,700i%7CIMB+Plex+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Noto Sans";--md-code-font:"IMB Plex Mono"}</style><link rel=stylesheet href=../../assets/stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=white data-md-color-primary=white data-md-color-accent=white> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#how-i-setup-this-blog class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../index.html title="Sam Rambles" class="md-header__button md-logo" aria-label="Sam Rambles" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Sam Rambles </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> How I Setup This Blog </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=white data-md-color-primary=white data-md-color-accent=white aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=black aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/peddamat/mkdocs-obsidian title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> peddamat/mkdocs-obsidian </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../index.html class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../tags/index.html class=md-tabs__link> Tags </a> </li> <li class=md-tabs__item> <a href=../../coding/creating-a-dll-with-rust/index.html class=md-tabs__link> Coding </a> </li> <li class=md-tabs__item> <a href=index.html class="md-tabs__link md-tabs__link--active"> Dotfiles </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../index.html title="Sam Rambles" class="md-nav__button md-logo" aria-label="Sam Rambles" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> Sam Rambles </label> <div class=md-nav__source> <a href=https://github.com/peddamat/mkdocs-obsidian title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> peddamat/mkdocs-obsidian </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../index.html class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../../tags/index.html class=md-nav__link> Tags </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> Coding <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Coding </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../coding/creating-a-dll-with-rust/index.html class=md-nav__link> Creating A DLL With Rust </a> </li> <li class=md-nav__item> <a href=../../coding/creating-windows-with-rust/index.html class=md-nav__link> Creating Windows With Rust </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> Dotfiles <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Dotfiles </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> How I Setup This Blog <span class="md-nav__icon md-icon"></span> </label> <a href=index.html class="md-nav__link md-nav__link--active"> How I Setup This Blog </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#10000-ft-view class=md-nav__link> 10000-ft View </a> </li> <li class=md-nav__item> <a href=#obsidian class=md-nav__link> Obsidian </a> <nav class=md-nav aria-label=Obsidian> <ul class=md-nav__list> <li class=md-nav__item> <a href=#obsidian-git class=md-nav__link> Obsidian Git </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mkdocs class=md-nav__link> MkDocs </a> <nav class=md-nav aria-label=MkDocs> <ul class=md-nav__list> <li class=md-nav__item> <a href=#customization class=md-nav__link> Customization </a> </li> <li class=md-nav__item> <a href=#hooks class=md-nav__link> Hooks </a> <nav class=md-nav aria-label=Hooks> <ul class=md-nav__list> <li class=md-nav__item> <a href=#only_include_publishedpy class=md-nav__link> only_include_published.py </a> </li> <li class=md-nav__item> <a href=#flatten_filenamespy class=md-nav__link> flatten_filenames.py </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#plugins class=md-nav__link> Plugins </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#github class=md-nav__link> GitHub </a> <nav class=md-nav aria-label=GitHub> <ul class=md-nav__list> <li class=md-nav__item> <a href=#repositories class=md-nav__link> Repositories </a> <nav class=md-nav aria-label=Repositories> <ul class=md-nav__list> <li class=md-nav__item> <a href=#notes-repository class=md-nav__link> notes repository </a> <nav class=md-nav aria-label="notes repository"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#github-workflow class=md-nav__link> GitHub Workflow </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mkdocs-obsidian-repository class=md-nav__link> mkdocs-obsidian repository </a> <nav class=md-nav aria-label="mkdocs-obsidian repository"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#github-workflow_1 class=md-nav__link> GitHub Workflow </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#peddamatgithubio-repository class=md-nav__link> peddamat.github.io repository </a> <nav class=md-nav aria-label="peddamat.github.io repository"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#github-pages class=md-nav__link> GitHub Pages </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#github-workflow_2 class=md-nav__link> GitHub Workflow </a> <nav class=md-nav aria-label="GitHub Workflow"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#permissions class=md-nav__link> Permissions </a> </li> <li class=md-nav__item> <a href=#personal-access-token-pat class=md-nav__link> Personal Access Token (PAT) </a> </li> <li class=md-nav__item> <a href=#repository-secret class=md-nav__link> Repository Secret </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mkdocs-development-setup class=md-nav__link> MkDocs Development Setup </a> <nav class=md-nav aria-label="MkDocs Development Setup"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#adding-mkdocs-plugins class=md-nav__link> Adding MkDocs Plugins </a> </li> <li class=md-nav__item> <a href=#deploying-directly class=md-nav__link> Deploying Directly </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#10000-ft-view class=md-nav__link> 10000-ft View </a> </li> <li class=md-nav__item> <a href=#obsidian class=md-nav__link> Obsidian </a> <nav class=md-nav aria-label=Obsidian> <ul class=md-nav__list> <li class=md-nav__item> <a href=#obsidian-git class=md-nav__link> Obsidian Git </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mkdocs class=md-nav__link> MkDocs </a> <nav class=md-nav aria-label=MkDocs> <ul class=md-nav__list> <li class=md-nav__item> <a href=#customization class=md-nav__link> Customization </a> </li> <li class=md-nav__item> <a href=#hooks class=md-nav__link> Hooks </a> <nav class=md-nav aria-label=Hooks> <ul class=md-nav__list> <li class=md-nav__item> <a href=#only_include_publishedpy class=md-nav__link> only_include_published.py </a> </li> <li class=md-nav__item> <a href=#flatten_filenamespy class=md-nav__link> flatten_filenames.py </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#plugins class=md-nav__link> Plugins </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#github class=md-nav__link> GitHub </a> <nav class=md-nav aria-label=GitHub> <ul class=md-nav__list> <li class=md-nav__item> <a href=#repositories class=md-nav__link> Repositories </a> <nav class=md-nav aria-label=Repositories> <ul class=md-nav__list> <li class=md-nav__item> <a href=#notes-repository class=md-nav__link> notes repository </a> <nav class=md-nav aria-label="notes repository"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#github-workflow class=md-nav__link> GitHub Workflow </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mkdocs-obsidian-repository class=md-nav__link> mkdocs-obsidian repository </a> <nav class=md-nav aria-label="mkdocs-obsidian repository"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#github-workflow_1 class=md-nav__link> GitHub Workflow </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#peddamatgithubio-repository class=md-nav__link> peddamat.github.io repository </a> <nav class=md-nav aria-label="peddamat.github.io repository"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#github-pages class=md-nav__link> GitHub Pages </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#github-workflow_2 class=md-nav__link> GitHub Workflow </a> <nav class=md-nav aria-label="GitHub Workflow"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#permissions class=md-nav__link> Permissions </a> </li> <li class=md-nav__item> <a href=#personal-access-token-pat class=md-nav__link> Personal Access Token (PAT) </a> </li> <li class=md-nav__item> <a href=#repository-secret class=md-nav__link> Repository Secret </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mkdocs-development-setup class=md-nav__link> MkDocs Development Setup </a> <nav class=md-nav aria-label="MkDocs Development Setup"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#adding-mkdocs-plugins class=md-nav__link> Adding MkDocs Plugins </a> </li> <li class=md-nav__item> <a href=#deploying-directly class=md-nav__link> Deploying Directly </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <nav class=md-tags> <a href=../../tags/index.html#obsidian class=md-tag>obsidian</a> <a href=../../tags/index.html#mkdocs class=md-tag>mkdocs</a> <a href=../../tags/index.html#github class=md-tag>github</a> </nav> <h1 id=how-i-setup-this-blog>How I Setup This Blog<a class=headerlink href=#how-i-setup-this-blog title="Permanent link">&para;</a></h1> <h2 id=10000-ft-view>10000-ft View<a class=headerlink href=#10000-ft-view title="Permanent link">&para;</a></h2> <p>I write notes in Obsidian. When I hit save, my changes are pushed to GitHub, which rebuilds and redeploys my site. </p> <p>It looks something like this:</p> <p><img alt="Drawing 2023-03-02 09.57.01.excalidraw.svg" src=../../excalidraw/drawing-2023-03-02-09.57.01.excalidraw.svg></p> <ul> <li>Write notes in Obsidian</li> <li>Store notes on GitHub</li> <li>Convert notes to HTML with MkDocs</li> <li>GitHub Pages used for hosting</li> </ul> <h2 id=obsidian>Obsidian<a class=headerlink href=#obsidian title="Permanent link">&para;</a></h2> <p>I recently switched my pkm system from a Joplin / OneNote hybrid to one centered around Obsidian. My initial foray into the world of roam-like pkm tools started with logseq, however, what ultimately led me to Obsidian was the maturity of its vim binding implementation. No amount of configuration made logseq's vim bindings comfortable enough for the tool to feel non-intrusive and effortless.</p> <h3 id=obsidian-git>Obsidian Git<a class=headerlink href=#obsidian-git title="Permanent link">&para;</a></h3> <p>Here is my Obsidian setup: the key component being <a href=https://github.com/denolehov/obsidian-git>Obsidian Git</a>:</p> <p><img alt=obsidian-setup-plugins.png src=../../assets/images/obsidian-setup-plugins.png></p> <p>'Hitting save' entails a <code>git commit</code> using:</p> <p><img alt=setup-obsidian-git-commit.png src=../../assets/images/setup-obsidian-git-commit.png></p> <p>Followed by <code>git push</code> using:</p> <p><img alt=setup-obsidian-git-push.png src=../../assets/images/setup-obsidian-git-push.png></p> <p>Obsidian Git auto-generates a commit message, so the above is all it takes for me to deploy.</p> <h2 id=mkdocs>MkDocs<a class=headerlink href=#mkdocs title="Permanent link">&para;</a></h2> <p><a href=mkdocs.org/ >MkDocs</a> is a static-site generator: it converts Markdown (<code>.md</code>) files into <code>.html</code>, similar to Jekyll and Hugo.</p> <p><a href=https://squidfunk.github.io/mkdocs-material/ >MkDocs-Material</a> is an MkDocs distribution which comes with a pretty theme and a number of compelling extensions which make your site look and feel modern: <a href=https://squidfunk.github.io/mkdocs-material/reference/ >see here</a></p> <h3 id=customization>Customization<a class=headerlink href=#customization title="Permanent link">&para;</a></h3> <p><a href=https://github.com/peddamat/mkdocs-obsidian>mkdocs-obsidian</a> is a customized MkDocs-Material configuration, based off <a href=https://github.com/mr-karan>mr-karan</a>'s repository, which adds:</p> <ul> <li>A way to deploy only "Published" notes, keeping "Drafts" private</li> <li>A way to "slugify" filenames so my URLs would be SEO-friendly</li> <li>Fixes for buggy "<code>[[wikistyle]]</code>" link rendering</li> </ul> <h3 id=hooks>Hooks<a class=headerlink href=#hooks title="Permanent link">&para;</a></h3> <h4 id=only_include_publishedpy>only_include_published.py<a class=headerlink href=#only_include_publishedpy title="Permanent link">&para;</a></h4> <p>In lieu of using separate Obsidian vaults, or segregating my notes by subfolder, I chose to distinguish "Published" notes from drafts through frontmatter metadata. Specifically, by denoting "Published" notes as those that have the <code>publish</code> key set to <code>true</code>, which looks like:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>---
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>publish: true
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>---
</span></code></pre></div> <p>This simple hook triggers when <code>on_files</code> fires, reading each note and filtering for notes with frontmatter containing <code>publish: true</code>.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=kn>import</span> <span class=nn>os</span><span class=o>,</span> <span class=nn>logging</span><span class=o>,</span> <span class=nn>typing</span><span class=o>,</span> <span class=nn>frontmatter</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Optional</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=kn>import</span> <span class=nn>mkdocs.plugins</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=kn>from</span> <span class=nn>mkdocs.structure.pages</span> <span class=kn>import</span> <span class=n>Page</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=kn>from</span> <span class=nn>mkdocs.structure.files</span> <span class=kn>import</span> <span class=n>Files</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=kn>from</span> <span class=nn>mkdocs.config.defaults</span> <span class=kn>import</span> <span class=n>MkDocsConfig</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=n>log</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s1>&#39;mkdocs&#39;</span><span class=p>)</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=k>def</span> <span class=nf>is_page_published</span><span class=p>(</span><span class=n>meta</span><span class=p>:</span> <span class=n>typing</span><span class=o>.</span><span class=n>Dict</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a>    <span class=k>if</span> <span class=s1>&#39;publish&#39;</span> <span class=ow>in</span> <span class=n>meta</span><span class=p>:</span>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a>        <span class=k>return</span> <span class=n>meta</span><span class=p>[</span><span class=s1>&#39;publish&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=kc>True</span>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a>
</span><span id=__span-1-15><a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a><span class=k>def</span> <span class=nf>on_files</span><span class=p>(</span><span class=n>files</span><span class=p>:</span> <span class=n>Files</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>config</span><span class=p>:</span> <span class=n>MkDocsConfig</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=n>Files</span><span class=p>]:</span>
</span><span id=__span-1-16><a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a>    <span class=n>base_docs_url</span> <span class=o>=</span> <span class=n>config</span><span class=p>[</span><span class=s2>&quot;docs_dir&quot;</span><span class=p>]</span>
</span><span id=__span-1-17><a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a>
</span><span id=__span-1-18><a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a>    <span class=k>for</span> <span class=n>file</span> <span class=ow>in</span> <span class=n>files</span><span class=o>.</span><span class=n>documentation_pages</span><span class=p>():</span>
</span><span id=__span-1-19><a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a>        <span class=n>abs_path</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>base_docs_url</span><span class=p>,</span> <span class=n>file</span><span class=o>.</span><span class=n>src_uri</span><span class=p>)</span>
</span><span id=__span-1-20><a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a>        <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>abs_path</span><span class=p>,</span> <span class=s1>&#39;r&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>raw_file</span><span class=p>:</span>
</span><span id=__span-1-21><a id=__codelineno-1-21 name=__codelineno-1-21 href=#__codelineno-1-21></a>            <span class=k>try</span><span class=p>:</span>
</span><span id=__span-1-22><a id=__codelineno-1-22 name=__codelineno-1-22 href=#__codelineno-1-22></a>                <span class=n>metadata</span> <span class=o>=</span> <span class=n>frontmatter</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>raw_file</span><span class=p>)</span><span class=o>.</span><span class=n>metadata</span>
</span><span id=__span-1-23><a id=__codelineno-1-23 name=__codelineno-1-23 href=#__codelineno-1-23></a>                <span class=k>if</span> <span class=n>is_page_published</span><span class=p>(</span><span class=n>metadata</span><span class=p>):</span>
</span><span id=__span-1-24><a id=__codelineno-1-24 name=__codelineno-1-24 href=#__codelineno-1-24></a>                    <span class=n>log</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Adding published document </span><span class=si>{</span><span class=n>file</span><span class=o>.</span><span class=n>src_uri</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-1-25><a id=__codelineno-1-25 name=__codelineno-1-25 href=#__codelineno-1-25></a>                <span class=k>else</span><span class=p>:</span>
</span><span id=__span-1-26><a id=__codelineno-1-26 name=__codelineno-1-26 href=#__codelineno-1-26></a>                    <span class=n>files</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=n>file</span><span class=p>)</span>
</span><span id=__span-1-27><a id=__codelineno-1-27 name=__codelineno-1-27 href=#__codelineno-1-27></a>            <span class=k>except</span><span class=p>:</span>
</span><span id=__span-1-28><a id=__codelineno-1-28 name=__codelineno-1-28 href=#__codelineno-1-28></a>                <span class=n>log</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Found malformed frontmatter in </span><span class=si>{</span><span class=n>file</span><span class=o>.</span><span class=n>src_uri</span><span class=si>}</span><span class=s2>!&quot;</span><span class=p>)</span>
</span><span id=__span-1-29><a id=__codelineno-1-29 name=__codelineno-1-29 href=#__codelineno-1-29></a>
</span><span id=__span-1-30><a id=__codelineno-1-30 name=__codelineno-1-30 href=#__codelineno-1-30></a>    <span class=k>return</span> <span class=n>files</span>
</span><span id=__span-1-31><a id=__codelineno-1-31 name=__codelineno-1-31 href=#__codelineno-1-31></a>
</span><span id=__span-1-32><a id=__codelineno-1-32 name=__codelineno-1-32 href=#__codelineno-1-32></a><span class=k>def</span> <span class=nf>on_post_page</span><span class=p>(</span><span class=n>output</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>page</span><span class=p>:</span> <span class=n>Page</span><span class=p>,</span> <span class=n>config</span><span class=p>:</span> <span class=n>MkDocsConfig</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Optional</span><span class=p>[</span><span class=nb>str</span><span class=p>]:</span>
</span><span id=__span-1-33><a id=__codelineno-1-33 name=__codelineno-1-33 href=#__codelineno-1-33></a>    <span class=k>if</span> <span class=ow>not</span> <span class=n>is_page_published</span><span class=p>(</span><span class=n>page</span><span class=o>.</span><span class=n>meta</span><span class=p>):</span>
</span><span id=__span-1-34><a id=__codelineno-1-34 name=__codelineno-1-34 href=#__codelineno-1-34></a>        <span class=k>return</span> <span class=s1>&#39;&#39;</span>
</span><span id=__span-1-35><a id=__codelineno-1-35 name=__codelineno-1-35 href=#__codelineno-1-35></a>
</span><span id=__span-1-36><a id=__codelineno-1-36 name=__codelineno-1-36 href=#__codelineno-1-36></a>    <span class=k>return</span> <span class=n>output</span>
</span></code></pre></div> <h4 id=flatten_filenamespy>flatten_filenames.py<a class=headerlink href=#flatten_filenamespy title="Permanent link">&para;</a></h4> <p>This is even simpler hook also triggers when <code>on_files</code> fires, converting filenames such as <code>How To Write A Dll In Rust (part 1).md</code> to <code>how-to-write-a-dll-in-rust-part-1.md</code>.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=kn>import</span> <span class=nn>logging</span><span class=o>,</span> <span class=nn>re</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=kn>import</span> <span class=nn>mkdocs.plugins</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=n>log</span> <span class=o>=</span> <span class=n>logging</span><span class=o>.</span><span class=n>getLogger</span><span class=p>(</span><span class=s1>&#39;mkdocs&#39;</span><span class=p>)</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=c1># Rewrite using `python-slugify`</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=k>def</span> <span class=nf>on_files</span><span class=p>(</span><span class=n>files</span><span class=p>,</span> <span class=n>config</span><span class=p>):</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>    <span class=k>for</span> <span class=n>f</span> <span class=ow>in</span> <span class=n>files</span><span class=p>:</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>        <span class=k>if</span> <span class=n>f</span><span class=o>.</span><span class=n>is_documentation_page</span><span class=p>()</span> <span class=ow>or</span> <span class=n>f</span><span class=o>.</span><span class=n>is_media_file</span><span class=p>():</span>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a>            <span class=n>f</span><span class=o>.</span><span class=n>abs_dest_path</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>abs_dest_path</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot; &quot;</span><span class=p>,</span> <span class=s2>&quot;-&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a>            <span class=n>f</span><span class=o>.</span><span class=n>abs_dest_path</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>abs_dest_path</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;(&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a>            <span class=n>f</span><span class=o>.</span><span class=n>abs_dest_path</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>abs_dest_path</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;)&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a>            <span class=n>f</span><span class=o>.</span><span class=n>dest_path</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>dest_path</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot; &quot;</span><span class=p>,</span> <span class=s2>&quot;-&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
</span><span id=__span-2-14><a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a>            <span class=n>f</span><span class=o>.</span><span class=n>dest_path</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>dest_path</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;(&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
</span><span id=__span-2-15><a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a>            <span class=n>f</span><span class=o>.</span><span class=n>dest_path</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>dest_path</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;)&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
</span><span id=__span-2-16><a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a>            <span class=n>f</span><span class=o>.</span><span class=n>url</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>dest_path</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;%20&quot;</span><span class=p>,</span> <span class=s2>&quot;-&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
</span><span id=__span-2-17><a id=__codelineno-2-17 name=__codelineno-2-17 href=#__codelineno-2-17></a>
</span><span id=__span-2-18><a id=__codelineno-2-18 name=__codelineno-2-18 href=#__codelineno-2-18></a>    <span class=k>return</span> <span class=n>files</span>
</span></code></pre></div> <h3 id=plugins>Plugins<a class=headerlink href=#plugins title="Permanent link">&para;</a></h3> <ul> <li><a href=https://github.com/peddamat/mkdocs-roamlinks-plugin>mkdocs-roamlinks-plugin</a>: converts <code>[[wikilinks]]</code> links to proper website links</li> <li><a href=https://github.com/liang2kl/mkdocs-blogging-plugin>mkdocs-blogging-plugin</a>: generates homepage article list</li> <li><a href=https://github.com/zhaoterryy/mkdocs-git-revision-date-plugin>mkdocs-git-revision-date-plugin</a>: adds "Last updated" footer tags </li> </ul> <h2 id=github>GitHub<a class=headerlink href=#github title="Permanent link">&para;</a></h2> <p>My setup uses three repositories:</p> <ol> <li><strong>notes</strong> is a <em>private</em> repo containing my "Obsidian vault" (folder containing <code>.md</code> files)</li> <li><strong>mkdocs-obsidian</strong> is a <em>public</em> repo containing my MkDocs configuration (mkdocs.yml)</li> <li><strong>peddamat.github.io</strong> is a <em>public</em> repo containing static <code>.html</code> files</li> </ol> <p>When changes are pushed to the <code>notes</code> repository, the <code>mkdocs-obsidian</code> repository rebuilds all "Published" notes and pushes the results to the <code>peddamat.github.io</code> repository.</p> <p>This is all orchestrated using GitHub Action workflows, one in the <code>notes</code> repository and one in the <code>mkdocs-obsidian</code> repository, which we'll discuss below.</p> <h3 id=repositories>Repositories<a class=headerlink href=#repositories title="Permanent link">&para;</a></h3> <h4 id=notes-repository><code>notes</code> repository<a class=headerlink href=#notes-repository title="Permanent link">&para;</a></h4> <p>This is a <em>private</em> repository containing my Obsidian vault:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>$<span class=w> </span>tree
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>.
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>├──<span class=w> </span>.github
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>│<span class=w>   </span>├──<span class=w> </span>workflows
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=p>|</span><span class=w>   </span>│<span class=w>   </span>└──<span class=w> </span>main.yml<span class=w> </span><span class=c1># (1)</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>├──<span class=w> </span>.obsidian
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>├──<span class=w> </span>index.md
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>├──<span class=w> </span>Coding
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>│<span class=w>   </span>├──<span class=w> </span>Creating<span class=w> </span>A<span class=w> </span>DLL<span class=w> </span>With<span class=w> </span>Rust.md
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a>...
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a>├──<span class=w> </span>Dotfiles
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a>...
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a>├──<span class=w> </span>assets
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a>├──<span class=w> </span>img
</span><span id=__span-3-15><a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a>├──<span class=w> </span>resources
</span><span id=__span-3-16><a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a>├──<span class=w> </span>stylesheets
</span><span id=__span-3-17><a id=__codelineno-3-17 name=__codelineno-3-17 href=#__codelineno-3-17></a>└──<span class=w> </span>tags.md
</span></code></pre></div> <h5 id=github-workflow>GitHub Workflow<a class=headerlink href=#github-workflow title="Permanent link">&para;</a></h5> <p>The GitHub Action workflow is defined in <code>.github/workflows/main.yml</code>. </p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Trigger Deployment</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=nt>on</span><span class=p>:</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=w>  </span><span class=nt>push</span><span class=p>:</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=w>    </span><span class=nt>branches</span><span class=p>:</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">main</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=nt>env</span><span class=p>:</span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=w>  </span><span class=nt>USER</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">peddamat</span>
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a><span class=w>  </span><span class=nt>REPO</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">mkdocs-obsidian</span>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a>
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a><span class=nt>jobs</span><span class=p>:</span>
</span><span id=__span-4-12><a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a><span class=w>  </span><span class=nt>build</span><span class=p>:</span>
</span><span id=__span-4-13><a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
</span><span id=__span-4-14><a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a>
</span><span id=__span-4-15><a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a><span class=w>    </span><span class=nt>steps</span><span class=p>:</span>
</span><span id=__span-4-16><a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a><span class=w>      </span><span class=c1># Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it</span>
</span><span id=__span-4-17><a id=__codelineno-4-17 name=__codelineno-4-17 href=#__codelineno-4-17></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Trigger Build and Deploy</span>
</span><span id=__span-4-18><a id=__codelineno-4-18 name=__codelineno-4-18 href=#__codelineno-4-18></a><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
</span><span id=__span-4-19><a id=__codelineno-4-19 name=__codelineno-4-19 href=#__codelineno-4-19></a><span class=w>          </span><span class=no>curl -X POST https://api.github.com/repos/$USER/$REPO/dispatches \</span>
</span><span id=__span-4-20><a id=__codelineno-4-20 name=__codelineno-4-20 href=#__codelineno-4-20></a><span class=w>          </span><span class=no>-H &#39;Accept: application/vnd.github.everest-preview+json&#39; \</span>
</span><span id=__span-4-21><a id=__codelineno-4-21 name=__codelineno-4-21 href=#__codelineno-4-21></a><span class=w>          </span><span class=no>-u ${{ secrets.API_TOKEN_GITHUB }} \</span>
</span><span id=__span-4-22><a id=__codelineno-4-22 name=__codelineno-4-22 href=#__codelineno-4-22></a><span class=w>          </span><span class=no>--data &#39;{&quot;event_type&quot;: &quot;Trigger Workflow&quot;, &quot;client_payload&quot;: { &quot;repository&quot;: &quot;&#39;&quot;$GITHUB_REPOSITORY&quot;&#39;&quot; }}&#39;</span>
</span><span id=__span-4-23><a id=__codelineno-4-23 name=__codelineno-4-23 href=#__codelineno-4-23></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v3</span>
</span></code></pre></div> <p>The "Trigger Deployment" workflow, runs after commits are pushed to <code>main</code> branch of the <code>notes</code> repo, its sole purpose being to triggers the "Build and Deploy Site" workflow in the <code>mkdocs-obsidian</code> repository.</p> <hr> <h4 id=mkdocs-obsidian-repository><code>mkdocs-obsidian</code> repository<a class=headerlink href=#mkdocs-obsidian-repository title="Permanent link">&para;</a></h4> <p>This is a <em>public</em> repository containing my fork of <a href=https://github.com/mr-karan/notes>mr-karan/notes</a>:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>$<span class=w> </span>tree<span class=w> </span>-L<span class=w> </span><span class=m>1</span><span class=w> </span>-a
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>.
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>├──<span class=w> </span>.github
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>│<span class=w>   </span>├──<span class=w> </span>workflows
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=p>|</span><span class=w>   </span>│<span class=w>   </span>└──<span class=w> </span>main.yml
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a>├──<span class=w> </span>Makefile
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a>├──<span class=w> </span>mkdocs.yml
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a>├──<span class=w> </span>hooks
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a>├──<span class=w> </span>overrides
</span><span id=__span-5-10><a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a>├──<span class=w> </span>Pipfile
</span><span id=__span-5-11><a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a>...
</span></code></pre></div> <h5 id=github-workflow_1>GitHub Workflow<a class=headerlink href=#github-workflow_1 title="Permanent link">&para;</a></h5> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Build and Deploy Site</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=nt>on</span><span class=p>:</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=w>  </span><span class=nt>repository_dispatch</span><span class=p>:</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=w>  </span><span class=nt>push</span><span class=p>:</span>
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=w>    </span><span class=nt>branches</span><span class=p>:</span>
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">main</span>
</span><span id=__span-6-8><a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a>
</span><span id=__span-6-9><a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a><span class=nt>jobs</span><span class=p>:</span>
</span><span id=__span-6-10><a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a><span class=w>  </span><span class=nt>deploy</span><span class=p>:</span>
</span><span id=__span-6-11><a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
</span><span id=__span-6-12><a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a><span class=w>    </span><span class=nt>steps</span><span class=p>:</span>
</span><span id=__span-6-13><a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Checkout mkdocs-obsidian repo</span>
</span><span id=__span-6-14><a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v3</span>
</span><span id=__span-6-15><a id=__codelineno-6-15 name=__codelineno-6-15 href=#__codelineno-6-15></a>
</span><span id=__span-6-16><a id=__codelineno-6-16 name=__codelineno-6-16 href=#__codelineno-6-16></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Checkout notes repo into ./notes</span>
</span><span id=__span-6-17><a id=__codelineno-6-17 name=__codelineno-6-17 href=#__codelineno-6-17></a><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v3</span>
</span><span id=__span-6-18><a id=__codelineno-6-18 name=__codelineno-6-18 href=#__codelineno-6-18></a><span class=w>        </span><span class=nt>with</span><span class=p>:</span>
</span><span id=__span-6-19><a id=__codelineno-6-19 name=__codelineno-6-19 href=#__codelineno-6-19></a><span class=w>          </span><span class=nt>token</span><span class=p>:</span><span class=w>  </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.PULL_NOTES }}</span>
</span><span id=__span-6-20><a id=__codelineno-6-20 name=__codelineno-6-20 href=#__codelineno-6-20></a><span class=w>          </span><span class=nt>repository</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">peddamat/notes</span>
</span><span id=__span-6-21><a id=__codelineno-6-21 name=__codelineno-6-21 href=#__codelineno-6-21></a><span class=w>          </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">notes</span>
</span><span id=__span-6-22><a id=__codelineno-6-22 name=__codelineno-6-22 href=#__codelineno-6-22></a>
</span><span id=__span-6-23><a id=__codelineno-6-23 name=__codelineno-6-23 href=#__codelineno-6-23></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Setup Python</span>
</span><span id=__span-6-24><a id=__codelineno-6-24 name=__codelineno-6-24 href=#__codelineno-6-24></a><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">actions/setup-python@v4</span>
</span><span id=__span-6-25><a id=__codelineno-6-25 name=__codelineno-6-25 href=#__codelineno-6-25></a><span class=w>        </span><span class=nt>with</span><span class=p>:</span>
</span><span id=__span-6-26><a id=__codelineno-6-26 name=__codelineno-6-26 href=#__codelineno-6-26></a><span class=w>          </span><span class=nt>python-version</span><span class=p>:</span><span class=w> </span><span class=s>&#39;3.8&#39;</span>
</span><span id=__span-6-27><a id=__codelineno-6-27 name=__codelineno-6-27 href=#__codelineno-6-27></a>
</span><span id=__span-6-28><a id=__codelineno-6-28 name=__codelineno-6-28 href=#__codelineno-6-28></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Upgrade pip</span>
</span><span id=__span-6-29><a id=__codelineno-6-29 name=__codelineno-6-29 href=#__codelineno-6-29></a><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
</span><span id=__span-6-30><a id=__codelineno-6-30 name=__codelineno-6-30 href=#__codelineno-6-30></a><span class=w>          </span><span class=no># install pip=&gt;20.1 to use &quot;pip cache dir&quot;</span>
</span><span id=__span-6-31><a id=__codelineno-6-31 name=__codelineno-6-31 href=#__codelineno-6-31></a><span class=w>          </span><span class=no>python3 -m pip install --upgrade pip</span>
</span><span id=__span-6-32><a id=__codelineno-6-32 name=__codelineno-6-32 href=#__codelineno-6-32></a>
</span><span id=__span-6-33><a id=__codelineno-6-33 name=__codelineno-6-33 href=#__codelineno-6-33></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Get pip cache dir</span>
</span><span id=__span-6-34><a id=__codelineno-6-34 name=__codelineno-6-34 href=#__codelineno-6-34></a><span class=w>        </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pip-cache</span>
</span><span id=__span-6-35><a id=__codelineno-6-35 name=__codelineno-6-35 href=#__codelineno-6-35></a><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">echo &quot;::set-output name=dir::$(pip cache dir)&quot;</span>
</span><span id=__span-6-36><a id=__codelineno-6-36 name=__codelineno-6-36 href=#__codelineno-6-36></a>
</span><span id=__span-6-37><a id=__codelineno-6-37 name=__codelineno-6-37 href=#__codelineno-6-37></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Cache dependencies</span>
</span><span id=__span-6-38><a id=__codelineno-6-38 name=__codelineno-6-38 href=#__codelineno-6-38></a><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">actions/cache@v2</span>
</span><span id=__span-6-39><a id=__codelineno-6-39 name=__codelineno-6-39 href=#__codelineno-6-39></a><span class=w>        </span><span class=nt>with</span><span class=p>:</span>
</span><span id=__span-6-40><a id=__codelineno-6-40 name=__codelineno-6-40 href=#__codelineno-6-40></a><span class=w>          </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">${{ steps.pip-cache.outputs.dir }}</span>
</span><span id=__span-6-41><a id=__codelineno-6-41 name=__codelineno-6-41 href=#__codelineno-6-41></a><span class=w>          </span><span class=nt>key</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">${{ runner.os }}-pip-${{ hashFiles(&#39;**/requirements.txt&#39;) }}</span>
</span><span id=__span-6-42><a id=__codelineno-6-42 name=__codelineno-6-42 href=#__codelineno-6-42></a><span class=w>          </span><span class=nt>restore-keys</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
</span><span id=__span-6-43><a id=__codelineno-6-43 name=__codelineno-6-43 href=#__codelineno-6-43></a><span class=w>            </span><span class=no>${{ runner.os }}-pip-</span>
</span><span id=__span-6-44><a id=__codelineno-6-44 name=__codelineno-6-44 href=#__codelineno-6-44></a>
</span><span id=__span-6-45><a id=__codelineno-6-45 name=__codelineno-6-45 href=#__codelineno-6-45></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Install dependencies</span>
</span><span id=__span-6-46><a id=__codelineno-6-46 name=__codelineno-6-46 href=#__codelineno-6-46></a><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">python3 -m pip install -r ./requirements.txt</span>
</span><span id=__span-6-47><a id=__codelineno-6-47 name=__codelineno-6-47 href=#__codelineno-6-47></a>
</span><span id=__span-6-48><a id=__codelineno-6-48 name=__codelineno-6-48 href=#__codelineno-6-48></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">mkdocs build</span>
</span><span id=__span-6-49><a id=__codelineno-6-49 name=__codelineno-6-49 href=#__codelineno-6-49></a>
</span><span id=__span-6-50><a id=__codelineno-6-50 name=__codelineno-6-50 href=#__codelineno-6-50></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Deploy</span>
</span><span id=__span-6-51><a id=__codelineno-6-51 name=__codelineno-6-51 href=#__codelineno-6-51></a><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">peaceiris/actions-gh-pages@v3</span>
</span><span id=__span-6-52><a id=__codelineno-6-52 name=__codelineno-6-52 href=#__codelineno-6-52></a><span class=w>        </span><span class=nt>with</span><span class=p>:</span>
</span><span id=__span-6-53><a id=__codelineno-6-53 name=__codelineno-6-53 href=#__codelineno-6-53></a><span class=w>          </span><span class=nt>personal_token</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.PULL_NOTES }}</span>
</span><span id=__span-6-54><a id=__codelineno-6-54 name=__codelineno-6-54 href=#__codelineno-6-54></a><span class=w>          </span><span class=nt>external_repository</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">peddamat/peddamat.github.io</span>
</span><span id=__span-6-55><a id=__codelineno-6-55 name=__codelineno-6-55 href=#__codelineno-6-55></a><span class=w>          </span><span class=nt>publish_branch</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">main</span><span class=w>  </span><span class=c1># default: gh-pages</span>
</span><span id=__span-6-56><a id=__codelineno-6-56 name=__codelineno-6-56 href=#__codelineno-6-56></a><span class=w>          </span><span class=nt>publish_dir</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">./site</span>
</span><span id=__span-6-57><a id=__codelineno-6-57 name=__codelineno-6-57 href=#__codelineno-6-57></a><span class=w>          </span><span class=nt>cname</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">samrambles.com</span>
</span></code></pre></div> <hr> <h4 id=peddamatgithubio-repository><code>peddamat.github.io</code> repository<a class=headerlink href=#peddamatgithubio-repository title="Permanent link">&para;</a></h4> <p>This is a <em>public</em> repository containing the output of MkDocs, a static <code>.html</code> render of my <code>.md</code> notes.</p> <h5 id=github-pages>GitHub Pages<a class=headerlink href=#github-pages title="Permanent link">&para;</a></h5> <p>GitHub Pages provides free top-level domain hosting for one site, with the stipulation being the site must be hosted in a repository named: <em>username</em>.github.io, where <em>username</em> is your GitHub username.</p> <p>Meaning, <em>my</em> free website, <code>peddamat.github.io</code>, is served up from my <a href=https://github.com/peddamat/peddamat.github.io>peddamat.github.io</a> repository, which is configured like this:</p> <p><img alt=setup-github-pages.png src=../../assets/images/setup-github-pages.png></p> <hr> <h3 id=github-workflow_2>GitHub Workflow<a class=headerlink href=#github-workflow_2 title="Permanent link">&para;</a></h3> <h4 id=permissions>Permissions<a class=headerlink href=#permissions title="Permanent link">&para;</a></h4> <p>My <code>notes</code> and <code>mkdocs-obsidian</code> repositories need the following workflow permissions, found under "Settings / Actions / General" in each repository:</p> <p><img alt=600 src=../../assets/images/github-actions-workflow-perms.png></p> <h4 id=personal-access-token-pat>Personal Access Token (PAT)<a class=headerlink href=#personal-access-token-pat title="Permanent link">&para;</a></h4> <blockquote> <p>Personal access tokens function like ordinary OAuth access tokens. They can be used instead of a password for Git over HTTPS, or can be used to authenticate to the API over Basic Authentication. </p> </blockquote> <p>The workflows used by the <code>notes</code> and <code>mkdocs-obsidian</code> repositories utilize PATs to allow inter-repository interaction, for example, allowing the <code>notes</code> repository to trigger workflows in the <code>mkdocs-obsidian</code> repository.</p> <p>To generate a PAT, click "Generate new token (classic)" on <a href=https://github.com/settings/tokens>https://github.com/settings/tokens</a>:</p> <p><img alt=setup-pat.png src=../../assets/images/setup-pat.png></p> <p>And select the following scopes:</p> <p><img alt=setup-scopes.png src=../../assets/images/setup-scopes.png></p> <h4 id=repository-secret>Repository Secret<a class=headerlink href=#repository-secret title="Permanent link">&para;</a></h4> <p>"Repository Secrets" enable passwords/tokens to be used by workflows without requiring them to be publically visible in workflow <code>.yaml</code>.</p> <p>Both the "Trigger Deployment" and "Build and Deploy Site" workflows use a secret named <code>secrets.API_TOKEN_GITHUB</code>, contains a "GitHub Personal Access Token (PAT)", configured as described in the Personal Access Token (PAT) section.</p> <p>Create the <code>secret.API_TOKEN_GITHUB</code> secret in each repository's "Settings / Secrets and variables / Actions" section:</p> <p><img alt=300 src=../../assets/images/setup-security.png></p> <p>Hit 'New repository secret':</p> <p><img alt=setup-secret-token.png src=../../assets/images/setup-secret-token.png></p> <p>And paste the PAT from Step 1.</p> <h2 id=mkdocs-development-setup>MkDocs Development Setup<a class=headerlink href=#mkdocs-development-setup title="Permanent link">&para;</a></h2> <p>To work on the MkDocs code, I use WSL2 running Ubuntu under Windows 10, with VSCode as my editor.</p> <p>Setting up an development environment consists of the following steps:</p> <ul> <li>Clone <code>mkdocs-obsidian</code> repo</li> <li>Clone <code>notes</code> repo</li> <li>Install dependencies</li> <li>Start staging server</li> </ul> <p>Which translates to:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>git<span class=w> </span>clone<span class=w> </span>git@github.com:peddamat/mkdocs-obsidian.git<span class=w> </span>samrambles.com
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=nb>cd</span><span class=w> </span>samrambles.com
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>git<span class=w> </span>clone<span class=w> </span>git@github.com:peddamat/notes.git<span class=w> </span>notes
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>pipenv<span class=w> </span>shell
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>pipenv<span class=w> </span>install
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a>make<span class=w> </span>serve
</span></code></pre></div> <p>And looks like:</p> <p><img alt=site-deployment.gif src=../../assets/images/site-deployment.gif></p> <h3 id=adding-mkdocs-plugins>Adding MkDocs Plugins<a class=headerlink href=#adding-mkdocs-plugins title="Permanent link">&para;</a></h3> <p>MkDocs plugins are generally distributed as Python PyPi packages, installed using <code>pip</code>, for example:</p> <p>Installing the <code>mkdocs-git-revision-date-plugin</code>:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a>pip<span class=w> </span>install<span class=w> </span>mkdocs-git-revision-date-plugin
</span></code></pre></div> <p>Since I am using <code>pipenv</code>, this would look like:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a>pipenv<span class=w> </span>install<span class=w> </span>mkdocs-git-revision-date-plugin
</span></code></pre></div> <h3 id=deploying-directly>Deploying Directly<a class=headerlink href=#deploying-directly title="Permanent link">&para;</a></h3> <p>Sometimes GitHub shits the bed, when that happens, I can manually deploy to <code>peddamat.github.io</code> using:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a>$<span class=w> </span>mkdocs<span class=w> </span>gh-deploy<span class=w> </span>--force<span class=w> </span>--remote-branch<span class=w> </span>main<span class=w> </span>--remote-name<span class=w> </span>https://peddamat:&lt;personal-access-token&gt;@github.com/peddamat/peddamat.github.io.git
</span></code></pre></div> <p><img alt=blog-setup-github-down.png src=../../assets/images/blog-setup-github-down.png></p> <p><br></p> <div class=blogging-tags-grid> <a href=https://samrambles.com/tags#obsidian class=blogging-tag><code>#obsidian</code></a> <a href=https://samrambles.com/tags#mkdocs class=blogging-tag><code>#mkdocs</code></a> <a href=https://samrambles.com/tags#github class=blogging-tag><code>#github</code></a> </div> <style>
    .md-typeset .blogging-tags-grid {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: 5px;
    }

    .md-typeset .blogging-tag {
        color: var(--md-typeset-color);
        background-color: var(--md-typeset-code-color);
    }

    .md-typeset .blogging-tag code {
        border-radius: 5px;
    }
</style> <hr> <div class=md-source-file> <small> Last update: 2023-03-03 </small> </div> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Made with ❤️ by Sam. </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/peddamat target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </a> <a href=https://twitter.com/peddamat target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["header.autohide", "search.share", "search.highlight", "search.suggest", "content.code.copy", "content.code.select", "content.code.annotate", "navigation.tracking", "navigation.top", "navigation.sections", "navigation.tabs"], "search": "../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.2a6f1dda.min.js></script> </body> </html>